(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(19),o=n.n(r),s=(n(30),n(31),n(6)),a=n(10),d=n(20),j=n.n(d),u=n(1),b=[{id:1,text:"todo \ub9cc\ub4e4\uaebc\uc5d0\uc694~\u2606\u2605",done:!0},{id:2,text:"\uc778\uc0ac\ud558\uae30",done:!1},{id:3,text:"\uc545\uc218\ud558\uae30",done:!1},{id:4,text:"\ubc1c\ud754\ub4e4\uae30",done:!0}];function l(e,t){switch(t.type){case"CREATE":return e.concat(t.todo);case"TOGGLE":return e.map((function(e){return e.id===t.id?Object(a.a)(Object(a.a)({},e),{},{done:!e.done}):e}));case"UPDATE":return console.log(t),e.map((function(e){return e.id===t.id?Object(a.a)(Object(a.a)({},e),{},{text:t.text}):e}));case"SORT":console.log(t);var n=e.filter((function(e){return e.id===t.dragItem.id}))[0];return j()(e,{$splice:[[t.dragItem.idx,1],[t.hoverItem.idx,0,n]]});case"REMOVE":return e.filter((function(e){return e.id!==t.id}));default:throw new Error("unhandled action type : ${action.type}")}}var O=Object(c.createContext)(),x=Object(c.createContext)(),h=Object(c.createContext)();function f(e){var t=e.children,n=Object(c.useReducer)(l,b),i=Object(s.a)(n,2),r=i[0],o=i[1],a=0!==r.length?r[r.length-1].id+1:1;return Object(u.jsx)(O.Provider,{value:r,children:Object(u.jsx)(x.Provider,{value:o,children:Object(u.jsx)(h.Provider,{value:a,children:t})})})}function m(){var e=Object(c.useContext)(O);if(!e)throw new Error("can't find todoProvider");return e}function v(){var e=Object(c.useContext)(x);if(!e)throw new Error("can't find todoProvider");return e}var p=function(){var e=new Date,t={date:e.getFullYear()+"."+(e.getMonth()+1)+"."+e.getDate(),day:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"][e.getDay()]},n=m(),c=0;return n.map((function(e){return e.done?c:c++})),Object(u.jsxs)("header",{children:[Object(u.jsxs)("h1",{children:[t.date," ",Object(u.jsx)("span",{className:"day",children:t.day})]}),Object(u.jsxs)("p",{className:"cnt",children:["\ucd1d ",Object(u.jsx)("b",{children:n.length}),"\uac1c - ",Object(u.jsx)("b",{children:c}),"\uac1c \ub0a8\uc74c"]})]})},g=n(5),N=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(""),o=Object(s.a)(r,2),a=o[0],d=o[1],j=Object(c.useRef)(),b=v(),l=function(){var e=Object(c.useContext)(h);if(!e)throw new Error("can't find todoProvider");return e}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"create "+(n?"":"hide"),children:Object(u.jsx)("div",{className:"bx_ipt",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b({type:"CREATE",todo:{id:l,text:a,done:!1}}),d(""),i(!n)},children:[Object(u.jsx)("input",{type:"text",className:"ipt",ref:j,value:a,onChange:function(e){d(e.target.value)},placeholder:"\ud560 \uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!!"}),Object(u.jsx)("button",{type:"submit",className:"btn_com",children:Object(u.jsx)(g.c,{})})]})})}),Object(u.jsx)("button",{className:n?"btn_cls":"btn_add",onClick:function(){n||setTimeout((function(){j.current.focus()}),.1),i(!n)},children:"+"})]})},y=n(41),C=n(42),E=function(e){var t=e.done,n=e.text,i=e.id,r=e.idx,o=(e.moveItem,v()),a=Object(c.useState)(!1),d=Object(s.a)(a,2),j=d[0],b=d[1],l=Object(c.useState)(n),O=Object(s.a)(l,2),x=O[0],h=O[1],f=Object(c.useRef)(),m=Object(y.a)({type:"unit",item:{id:i,idx:r},collect:function(e){return{isDragging:e.isDragging()}}}),p=Object(s.a)(m,3),N=p[0].isDragging,E=p[1],w=p[2],P=Object(C.a)({accept:"unit",collect:function(e){return{isOver:e.isOver()}},hover:function(e,t){var n={idx:e.idx,id:e.id},c={idx:r,id:i};n.id!==c.id&&(o({type:"SORT",dragItem:n,hoverItem:c}),e.idx=c.idx)}}),T=Object(s.a)(P,2),D=(T[0].isOver,T[1]),_=function(e){e.stopPropagation(),b(!j),j?h(n):setTimeout((function(){f.current.focus()}),.1)};return Object(u.jsxs)("div",{className:"unit "+(N?"mv":""),ref:function(e){return D(w(e))},children:[j?Object(u.jsx)("div",{className:"modi bx_ipt",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=x.trim();if(""===t||null===t)return alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!!"),void f.current.focus();o({type:"UPDATE",id:i,text:t}),h(t),b(!j)},children:[Object(u.jsx)("input",{className:"ipt",type:"text",ref:f,value:x,onChange:function(e){h(e.target.value)}}),Object(u.jsx)("button",{type:"button",className:"btn_cls",onClick:_,children:Object(u.jsx)(g.a,{})}),Object(u.jsx)("button",{type:"submit",className:"btn_com",children:Object(u.jsx)(g.c,{})})]})}):Object(u.jsxs)("div",{className:"item "+(t?"done":""),onClick:function(e){o({type:"TOGGLE",id:i})},children:[Object(u.jsx)("span",{className:"bx_chk",children:Object(u.jsx)(g.c,{className:"chk"})}),Object(u.jsx)("p",{className:"text",children:n}),Object(u.jsxs)("button",{type:"button",className:"btn_modi",onClick:_,children:[Object(u.jsx)(g.e,{})," "]}),Object(u.jsxs)("button",{type:"button",className:"btn_delete",onClick:function(e){e.stopPropagation(),o({type:"REMOVE",id:i})},children:[Object(u.jsx)(g.b,{})," "]})]}),Object(u.jsx)("span",{className:"btn_move",ref:E,children:Object(u.jsx)(g.d,{})})]})},w=function(){var e=m();return console.log(e),Object(u.jsxs)("div",{className:"cont",children:[0==e.length?Object(u.jsx)("p",{className:"nodate",children:"\ub4f1\ub85d\ub41c \ud560\uc77c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"}):"",e.map((function(e,t){return Object(u.jsx)(E,{id:e.id,idx:t,text:e.text,done:e.done},e.id)}))]})},P=n(40),T=n(23),D=function(){return Object(u.jsx)(f,{children:Object(u.jsxs)("div",{className:"todo",children:[Object(u.jsx)(p,{}),Object(u.jsx)(P.a,{backend:T.a,children:Object(u.jsx)(w,{})}),Object(u.jsx)(N,{})]})})};var _=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(D,{})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),r(e),o(e)}))};o.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root")),k()}},[[35,1,2]]]);
//# sourceMappingURL=main.107c11af.chunk.js.map